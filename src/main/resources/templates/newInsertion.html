{% include "head.html" %}

<body>

{% if logged == false %}
{% include "unlogged-navbar.html" %}
{% else %}
{% include "logged-navbar.html" %}
{% endif %}

<!-- CONTENUTI -->
<div class="container" style="margin-top: 45px; margin-bottom: 20px">
    <div class="row">
        <div class="col col-auto">

        </div>
    </div>
</div>
<div class="container" style="margin-bottom: 50px">
    <div class="card">
        <div class="card-body">
            <div class="container justify-items-center" style="justify-items: center;">
                <h2>Compila tramite ISBN</h2>
                <p>Tramite l'ISBN i campi verranno automaticamente compilati. ✨</p>
                    <form action="#" id="form-isbn" method="POST">
                    <input type="text" class="form-control" placeholder="Codice ISBN" style="length :100px"
                           aria-label="Inserire l'ISBN del Libro" aria-describedby="basic-addon2" name="input-isbn" required>
                    <button style="float : right" class="btn btn-outline-warning" type="submit">Carica</button>
                    </form>
                    <script type="text/javascript">
                        const template = (isbn) => `/insertion/new/${isbn}`;

                        document.getElementById('form-isbn').addEventListener('submit', function(s) {
                        s.preventDefault();
                        this.action = template(this.elements["input-isbn"].value);
                        window.location.href = this.action;
                        });
                    </script>
            </div>
        </div>
    </div>
</div>


<div class="container" style="margin-bottom: 50px">
    <div class="card">
        <div class="card-body">
            <div class="container">
                <!-- Le info seguenti devono essere autocompilate in base all'ISBN - per programmatori -->
                <div class="row">
                    <div class="col-md-3"><img alt="antologia" class="img-fluid"
                                               src="/assets/img/general/antologia.webp"></div>
                    <div class="col">
                        <h4 class="card-title">{{book.name}}</h4>
                        <div class="row">
                            <div class="col">
                                <br>
                                <p class="subtitle">Autore: {{book.author}}</p>
                                <br>
                                <p class="subtitle">Anno di pubblicazione: {{book.year}}</p>
                                <br>
                                <p class="subtitle">Casa editrice: {{book.publishers}}</p>
                                <br>
                                <p class="subtitle">Codice ISBN: {{book.isbn}}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<div class="container" style="margin-bottom: 50px">
    <div class="card">
        <div class="card-body">
            <!--
            <div class="row">
                <div class="col text-center" style="margin-bottom: 20px">
                    <img class="img-thumbnail" src="/assets/img/categorie/"
                         style="max-height: 230px;min-height: 230px;"/>
                    <img class="img-thumbnail" src="/assets/img/categorie/"
                         style="max-height: 230px;min-height: 230px;"/>
                    <img class="img-thumbnail" src="/assets/img/categorie/"
                         style="max-height: 230px;min-height: 230px;"/>
                    <img class="img-thumbnail" src="/assets/img/categorie/"
                         style="max-height: 230px;min-height: 230px;"/>
                    VA COMPILATO
                </div>
            </div>
            -->
            <div class="container">
                <form action="/insert/announcement" enctype="application/x-www-form-urlencoded" method="POST">
                <!-- Le info seguenti devono essere autocompilate in base all'ISBN - per programmatori -->
                    <div class="row">
                        <div class="col">
                            <h5 class="card-title">Compila accuratamente questi dettagli</h5>
                                <input type="hidden" name="announcement-isbn" value="{{book.isbn}}">
                                <br>
                                <div class="row">
                                    <div class="col-5">
                                        <select name="announcement-stato" style="width: 90%" role="menu" required>
                                            <option>Pessimo stato</option>
                                            <option>Cattivo stato</option>
                                            <option>Discreto stato</option>
                                            <option>Buono stato</option>
                                            <option>Ottimo stato</option>
                                            <div></div>
                                        </select>
                                    </div>
                                    <div class="col-4">
                                        <input type="checkbox" name="announcement-ebook" class="form-control" placeholder="Versione digitale">
                                    </div>
                                    <div class="col-3">
                                        <div class="input-group mb-3">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">€</span>
                                            </div>
                                            <input type="number" class="form-control" name="announcement-price"
                                                   aria-label="Amount (to the nearest dollar)" required>
                                        </div>
                                    </div>
                                </div>
                                <label>Descrizioni agguntive</label>
                                <div class="form-group">
                                    <input type="text" class="form-control" rows="3" id="stato" name="announcement-description"
                                           placeholder="Condizioni del libro" required>
                                </div>
                                <br>
                            </div>
                        </div>
                    <div class="row">
                        <!-- Button trigger modal -->
                        <div class="col">
                            <button type="button" class="btn btn-warning" margin="auto"><i class="fas fa-upload"></i><font size="3">
                                Allega immagini</font></button>
                        </div>
                        <div class="col col-auto">
                            <button type="button" class="btn btn-warning" data-toggle="modal" data-target="#pubblicaAnnuncio">
                                Pubblica annuncio
                            </button>
                        </div>
                    </div>
                    <div class="container">
                        <div class="row">
                            <div class="col col-auto">
                                <!-- Modal -->
                                <div class="modal fade" id="pubblicaAnnuncio" tabindex="-1" aria-labelledby="caricaAnnunico"
                                     aria-hidden="true">
                                    <div class="modal-dialog">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="caricaAnnunico">Carica annuncio</h5>
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-body">Sei sicuro di voler pubblicare l'annuncio?</div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>
                                                <button class="btn btn-warning" type="submit">Si</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

        </div>
    </div>
</div>

{% include "footer.html" %}
</body>
</html>